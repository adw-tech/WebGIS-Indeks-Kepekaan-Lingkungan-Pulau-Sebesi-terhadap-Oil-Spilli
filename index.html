<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
        <link rel="stylesheet" href="css/qgis2web.css">
        <link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/leaflet.photon.css">
        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        </style>
        <title>Peta IKL Pulau Sebesi Terhadap Oil Spill</title>
    </head>
    <body>
        <div id="map">
        </div>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/L.Control.Layers.Tree.min.js"></script>
        <script src="js/leaflet-svg-shape-markers.min.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/leaflet.photon.js"></script>
        <script src="data/IKLPulauSebesiKEPEKAAN_1.js"></script>
        <script src="data/IKLPulauSebesiBatas_Area_Unit_2.js"></script>
        <script src="data/IKLPulauSebesiGaris_Kontur1_3.js"></script>
        <script src="data/IKLPulauSebesiJalan1_4.js"></script>
        <script src="data/IKLPulauSebesiSungai1_5.js"></script>
        <script src="data/IKLPulauSebesiDusun_6.js"></script>
        <script src="data/IKLPulauSebesiJembatan1_7.js"></script>
        <script src="data/IKLPulauSebesiPenginapan_8.js"></script>
        <script>
        var map = L.map('map', {
            zoomControl:false, maxZoom:28, minZoom:1
        }).fitBounds([[-5.99702622770471,105.41187595784227],[-5.861579083131055,105.6012223067201]]);
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        // remove popup's row if "visible-with-data"
        function removeEmptyRowsFromPopupContent(content, feature) {
         var tempDiv = document.createElement('div');
         tempDiv.innerHTML = content;
         var rows = tempDiv.querySelectorAll('tr');
         for (var i = 0; i < rows.length; i++) {
             var td = rows[i].querySelector('td.visible-with-data');
             var key = td ? td.id : '';
             if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                 rows[i].parentNode.removeChild(rows[i]);
             }
         }
         return tempDiv.innerHTML;
        }
        // modify popup if contains media
        function addClassToPopupIfMedia(content, popup) {
            var tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            var imgTd = tempDiv.querySelector('td img');
            if (imgTd) {
                var src = imgTd.getAttribute('src');
                if (/\.(jpg|jpeg|png|gif|bmp|webp|avif)$/i.test(src)) {
                    popup._contentNode.classList.add('media');
                    setTimeout(function() {
                        popup.update();
                    }, 10);
                } else if (/\.(mp3|wav|ogg|aac)$/i.test(src)) {
                    var audio = document.createElement('audio');
                    audio.controls = true;
                    audio.src = src;
                    imgTd.parentNode.replaceChild(audio, imgTd);
                    popup._contentNode.classList.add('media');
                    setTimeout(function() {
                        popup.setContent(tempDiv.innerHTML);
                        popup.update();
                    }, 10);
                } else if (/\.(mp4|webm|ogg|mov)$/i.test(src)) {
                    var video = document.createElement('video');
                    video.controls = true;
                    video.src = src;
                    video.style.width = "400px";
                    video.style.height = "300px";
                    video.style.maxHeight = "60vh";
                    video.style.maxWidth = "60vw";
                    imgTd.parentNode.replaceChild(video, imgTd);
                    popup._contentNode.classList.add('media');
                    // Aggiorna il popup quando il video carica i metadati
                    video.addEventListener('loadedmetadata', function() {
                        popup.update();
                    });
                    setTimeout(function() {
                        popup.setContent(tempDiv.innerHTML);
                        popup.update();
                    }, 10);
                } else {
                    popup._contentNode.classList.remove('media');
                }
            } else {
                popup._contentNode.classList.remove('media');
            }
        }
        var title = new L.Control({'position':'topright'});
        title.onAdd = function (map) {
            this._div = L.DomUtil.create('div', 'info');
            this.update();
            return this._div;
        };
        title.update = function () {
            this._div.innerHTML = '<h2>Peta IKL Pulau Sebesi Terhadap Oil Spill</h2>';
        };
        title.addTo(map);
        var abstract = new L.Control({'position':'topright'});
        abstract.onAdd = function (map) {
            this._div = L.DomUtil.create('div',
            'leaflet-control abstract');
            this._div.id = 'abstract'
                this._div.setAttribute("onmouseenter", "abstract.show()");
                this._div.setAttribute("onmouseleave", "abstract.hide()");
                this.hide();
                return this._div;
            };
            abstract.hide = function () {
                this._div.classList.remove("abstractUncollapsed");
                this._div.classList.add("abstract");
                this._div.innerHTML = 'i'
            }
            abstract.show = function () {
                this._div.classList.remove("abstract");
                this._div.classList.add("abstractUncollapsed");
                this._div.innerHTML = 'Peta Indeks Kepekaan Lingkungan Pulau Sebesi disajikan dalam bentuk WebGIS sebagai sarana visualisasi spasial yang interaktif dan informatif untuk mendukung pengelolaan lingkungan pesisir dan pulau kecil. Indeks Kepekaan Lingkungan (IKL) dihitung berdasarkan pendekatan Composite Environmental Sensitivity Index (CESI) yang mengintegrasikan tiga komponen utama, yaitu Indeks Kerentanan (IK), Indeks Ekologis (IE), dan Indeks Sosial (IS). Nilai IKL diperoleh melalui persamaan IKL = 1/3 (IK + IE + IS), sehingga mencerminkan kondisi lingkungan secara menyeluruh dari aspek fisik, ekologi, dan sosial masyarakat. Hasil perhitungan IKL diklasifikasikan ke dalam lima tingkat kepekaan lingkungan, yaitu Tidak Peka (1,0), Kurang Peka (1,1–2,0), Kepekaan Sedang (2,1–3,0), Peka (3,1–4,0), dan Sangat Peka (4,1–5,0), yang divisualisasikan dengan gradasi warna berbeda untuk memudahkan interpretasi. Melalui tampilan WebGIS, pengguna dapat mengakses informasi spasial secara dinamis, menelusuri tingkat kepekaan tiap wilayah, serta memahami potensi risiko dan prioritas pengelolaan lingkungan di Pulau Sebesi. WebGIS ini diharapkan menjadi alat pendukung pengambilan keputusan dalam perencanaan pembangunan berkelanjutan, mitigasi bencana, dan konservasi lingkungan wilayah pesisir. <br /><br />Wilayah Pulau Sebesi dibagi ke dalam 27 unit analisis sebagai dasar perhitungan Indeks Kepekaan Lingkungan, yang dikelompokkan ke dalam dua divisi wilayah untuk memudahkan analisis spasial dan penentuan prioritas pengelolaan. Secara administratif, Pulau Sebesi terdiri atas empat dusun dengan karakteristik sosial, aktivitas pemanfaatan pesisir, serta tingkat kerentanan yang berbeda terhadap risiko tumpahan minyak. Pembagian unit analisis ini memungkinkan identifikasi wilayah yang lebih rinci dalam mendukung perencanaan pengelolaan pesisir dan mitigasi dampak oil spill.<br /><br />';
        };
        abstract.addTo(map);
        var zoomControl = L.control.zoom({
            position: 'topleft'
        }).addTo(map);
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
        }
        map.createPane('pane_OSMStandard_0');
        map.getPane('pane_OSMStandard_0').style.zIndex = 400;
        var layer_OSMStandard_0 = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            pane: 'pane_OSMStandard_0',
            opacity: 1.0,
            attribution: '<a href="https://www.openstreetmap.org/copyright">© OpenStreetMap contributors, CC-BY-SA</a>',
            minZoom: 1,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 19
        });
        layer_OSMStandard_0;
        map.addLayer(layer_OSMStandard_0);
        function pop_IKLPulauSebesiKEPEKAAN_1(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Unit Analisis</th>\
                        <td class="visible-with-data" id="Kode_Unit">' + (feature.properties['Kode_Unit'] !== null ? autolinker.link(String(feature.properties['Kode_Unit']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Jenis Unit Analisis</th>\
                        <td class="visible-with-data" id="Nama_Unit">' + (feature.properties['Nama_Unit'] !== null ? autolinker.link(String(feature.properties['Nama_Unit']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IK</th>\
                        <td class="visible-with-data" id="IK">' + (feature.properties['IK'] !== null ? autolinker.link(String(feature.properties['IK']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IE</th>\
                        <td class="visible-with-data" id="IE">' + (feature.properties['IE'] !== null ? autolinker.link(String(feature.properties['IE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IS</th>\
                        <td class="visible-with-data" id="IS_">' + (feature.properties['IS_'] !== null ? autolinker.link(String(feature.properties['IS_']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IKL</th>\
                        <td class="visible-with-data" id="IKL">' + (feature.properties['IKL'] !== null ? autolinker.link(String(feature.properties['IKL']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Tingkat Kepekaan</th>\
                        <td class="visible-with-data" id="Tingkat_Ke">' + (feature.properties['Tingkat_Ke'] !== null ? autolinker.link(String(feature.properties['Tingkat_Ke']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_IKLPulauSebesiKEPEKAAN_1_0(feature) {
            switch(String(feature.properties['Tingkat_Ke'])) {
                case 'Sedang':
                    return {
                pane: 'pane_IKLPulauSebesiKEPEKAAN_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(13,7,232,1.0)',
                interactive: true,
            }
                    break;
                case 'Peka':
                    return {
                pane: 'pane_IKLPulauSebesiKEPEKAAN_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(202,48,215,1.0)',
                interactive: true,
            }
                    break;
                case 'Sangat Peka':
                    return {
                pane: 'pane_IKLPulauSebesiKEPEKAAN_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(254,5,44,1.0)',
                interactive: true,
            }
                    break;
            }
        }
        map.createPane('pane_IKLPulauSebesiKEPEKAAN_1');
        map.getPane('pane_IKLPulauSebesiKEPEKAAN_1').style.zIndex = 401;
        map.getPane('pane_IKLPulauSebesiKEPEKAAN_1').style['mix-blend-mode'] = 'normal';
        var layer_IKLPulauSebesiKEPEKAAN_1 = new L.geoJson(json_IKLPulauSebesiKEPEKAAN_1, {
            attribution: '',
            interactive: true,
            dataVar: 'json_IKLPulauSebesiKEPEKAAN_1',
            layerName: 'layer_IKLPulauSebesiKEPEKAAN_1',
            pane: 'pane_IKLPulauSebesiKEPEKAAN_1',
            onEachFeature: pop_IKLPulauSebesiKEPEKAAN_1,
            style: style_IKLPulauSebesiKEPEKAAN_1_0,
        });
        bounds_group.addLayer(layer_IKLPulauSebesiKEPEKAAN_1);
        map.addLayer(layer_IKLPulauSebesiKEPEKAAN_1);
        function pop_IKLPulauSebesiBatas_Area_Unit_2(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Ket</th>\
                        <td>' + (feature.properties['Ket'] !== null ? autolinker.link(String(feature.properties['Ket']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_IKLPulauSebesiBatas_Area_Unit_2_0() {
            return {
                pane: 'pane_IKLPulauSebesiBatas_Area_Unit_2',
                opacity: 1,
                color: 'rgba(8,4,2,1.0)',
                dashArray: '1.0,2.0',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 1.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_IKLPulauSebesiBatas_Area_Unit_2');
        map.getPane('pane_IKLPulauSebesiBatas_Area_Unit_2').style.zIndex = 402;
        map.getPane('pane_IKLPulauSebesiBatas_Area_Unit_2').style['mix-blend-mode'] = 'normal';
        var layer_IKLPulauSebesiBatas_Area_Unit_2 = new L.geoJson(json_IKLPulauSebesiBatas_Area_Unit_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_IKLPulauSebesiBatas_Area_Unit_2',
            layerName: 'layer_IKLPulauSebesiBatas_Area_Unit_2',
            pane: 'pane_IKLPulauSebesiBatas_Area_Unit_2',
            onEachFeature: pop_IKLPulauSebesiBatas_Area_Unit_2,
            style: style_IKLPulauSebesiBatas_Area_Unit_2_0,
        });
        bounds_group.addLayer(layer_IKLPulauSebesiBatas_Area_Unit_2);
        map.addLayer(layer_IKLPulauSebesiBatas_Area_Unit_2);
        function pop_IKLPulauSebesiGaris_Kontur1_3(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">REMARK</th>\
                        <td>' + (feature.properties['REMARK'] !== null ? autolinker.link(String(feature.properties['REMARK']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_IKLPulauSebesiGaris_Kontur1_3_0() {
            return {
                pane: 'pane_IKLPulauSebesiGaris_Kontur1_3',
                opacity: 1,
                color: 'rgba(178,179,182,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 1.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_IKLPulauSebesiGaris_Kontur1_3');
        map.getPane('pane_IKLPulauSebesiGaris_Kontur1_3').style.zIndex = 403;
        map.getPane('pane_IKLPulauSebesiGaris_Kontur1_3').style['mix-blend-mode'] = 'normal';
        var layer_IKLPulauSebesiGaris_Kontur1_3 = new L.geoJson(json_IKLPulauSebesiGaris_Kontur1_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_IKLPulauSebesiGaris_Kontur1_3',
            layerName: 'layer_IKLPulauSebesiGaris_Kontur1_3',
            pane: 'pane_IKLPulauSebesiGaris_Kontur1_3',
            onEachFeature: pop_IKLPulauSebesiGaris_Kontur1_3,
            style: style_IKLPulauSebesiGaris_Kontur1_3_0,
        });
        bounds_group.addLayer(layer_IKLPulauSebesiGaris_Kontur1_3);
        map.addLayer(layer_IKLPulauSebesiGaris_Kontur1_3);
        function pop_IKLPulauSebesiJalan1_4(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td class="visible-with-data" id="REMARK" colspan="2"><strong>REMARK</strong><br />' + (feature.properties['REMARK'] !== null ? autolinker.link(String(feature.properties['REMARK']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_IKLPulauSebesiJalan1_4_0() {
            return {
                pane: 'pane_IKLPulauSebesiJalan1_4',
                opacity: 1,
                color: 'rgba(10,2,1,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 1.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_IKLPulauSebesiJalan1_4');
        map.getPane('pane_IKLPulauSebesiJalan1_4').style.zIndex = 404;
        map.getPane('pane_IKLPulauSebesiJalan1_4').style['mix-blend-mode'] = 'normal';
        var layer_IKLPulauSebesiJalan1_4 = new L.geoJson(json_IKLPulauSebesiJalan1_4, {
            attribution: '',
            interactive: true,
            dataVar: 'json_IKLPulauSebesiJalan1_4',
            layerName: 'layer_IKLPulauSebesiJalan1_4',
            pane: 'pane_IKLPulauSebesiJalan1_4',
            onEachFeature: pop_IKLPulauSebesiJalan1_4,
            style: style_IKLPulauSebesiJalan1_4_0,
        });
        bounds_group.addLayer(layer_IKLPulauSebesiJalan1_4);
        map.addLayer(layer_IKLPulauSebesiJalan1_4);
        function pop_IKLPulauSebesiSungai1_5(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">REMARK</th>\
                        <td>' + (feature.properties['REMARK'] !== null ? autolinker.link(String(feature.properties['REMARK']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_IKLPulauSebesiSungai1_5_0() {
            return {
                pane: 'pane_IKLPulauSebesiSungai1_5',
                opacity: 1,
                color: 'rgba(97,213,231,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 1.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_IKLPulauSebesiSungai1_5');
        map.getPane('pane_IKLPulauSebesiSungai1_5').style.zIndex = 405;
        map.getPane('pane_IKLPulauSebesiSungai1_5').style['mix-blend-mode'] = 'normal';
        var layer_IKLPulauSebesiSungai1_5 = new L.geoJson(json_IKLPulauSebesiSungai1_5, {
            attribution: '',
            interactive: true,
            dataVar: 'json_IKLPulauSebesiSungai1_5',
            layerName: 'layer_IKLPulauSebesiSungai1_5',
            pane: 'pane_IKLPulauSebesiSungai1_5',
            onEachFeature: pop_IKLPulauSebesiSungai1_5,
            style: style_IKLPulauSebesiSungai1_5_0,
        });
        bounds_group.addLayer(layer_IKLPulauSebesiSungai1_5);
        map.addLayer(layer_IKLPulauSebesiSungai1_5);
        function pop_IKLPulauSebesiDusun_6(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Ket</th>\
                        <td>' + (feature.properties['Ket'] !== null ? autolinker.link(String(feature.properties['Ket']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_IKLPulauSebesiDusun_6_0() {
            return {
                pane: 'pane_IKLPulauSebesiDusun_6',
                radius: 7.6,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(4,4,1,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_IKLPulauSebesiDusun_6');
        map.getPane('pane_IKLPulauSebesiDusun_6').style.zIndex = 406;
        map.getPane('pane_IKLPulauSebesiDusun_6').style['mix-blend-mode'] = 'normal';
        var layer_IKLPulauSebesiDusun_6 = new L.geoJson(json_IKLPulauSebesiDusun_6, {
            attribution: '',
            interactive: true,
            dataVar: 'json_IKLPulauSebesiDusun_6',
            layerName: 'layer_IKLPulauSebesiDusun_6',
            pane: 'pane_IKLPulauSebesiDusun_6',
            onEachFeature: pop_IKLPulauSebesiDusun_6,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_IKLPulauSebesiDusun_6_0(feature));
            },
        });
        bounds_group.addLayer(layer_IKLPulauSebesiDusun_6);
        map.addLayer(layer_IKLPulauSebesiDusun_6);
        function pop_IKLPulauSebesiJembatan1_7(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td class="visible-with-data" id="fid" colspan="2"><strong>fid</strong><br />' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">REMARK</th>\
                        <td>' + (feature.properties['REMARK'] !== null ? autolinker.link(String(feature.properties['REMARK']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_IKLPulauSebesiJembatan1_7_0() {
            return {
                pane: 'pane_IKLPulauSebesiJembatan1_7',
                radius: 12.8,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(9,4,5,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_IKLPulauSebesiJembatan1_7');
        map.getPane('pane_IKLPulauSebesiJembatan1_7').style.zIndex = 407;
        map.getPane('pane_IKLPulauSebesiJembatan1_7').style['mix-blend-mode'] = 'normal';
        var layer_IKLPulauSebesiJembatan1_7 = new L.geoJson(json_IKLPulauSebesiJembatan1_7, {
            attribution: '',
            interactive: true,
            dataVar: 'json_IKLPulauSebesiJembatan1_7',
            layerName: 'layer_IKLPulauSebesiJembatan1_7',
            pane: 'pane_IKLPulauSebesiJembatan1_7',
            onEachFeature: pop_IKLPulauSebesiJembatan1_7,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.shapeMarker(latlng, style_IKLPulauSebesiJembatan1_7_0(feature));
            },
        });
        bounds_group.addLayer(layer_IKLPulauSebesiJembatan1_7);
        map.addLayer(layer_IKLPulauSebesiJembatan1_7);
        function pop_IKLPulauSebesiPenginapan_8(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">fid</th>\
                        <td>' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">REMARK</th>\
                        <td>' + (feature.properties['REMARK'] !== null ? autolinker.link(String(feature.properties['REMARK']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_IKLPulauSebesiPenginapan_8_0() {
            return {
                pane: 'pane_IKLPulauSebesiPenginapan_8',
                radius: 11.6,
                opacity: 1,
                color: 'rgba(3,2,1,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 2.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(0,0,0,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_IKLPulauSebesiPenginapan_8');
        map.getPane('pane_IKLPulauSebesiPenginapan_8').style.zIndex = 408;
        map.getPane('pane_IKLPulauSebesiPenginapan_8').style['mix-blend-mode'] = 'normal';
        var layer_IKLPulauSebesiPenginapan_8 = new L.geoJson(json_IKLPulauSebesiPenginapan_8, {
            attribution: '',
            interactive: true,
            dataVar: 'json_IKLPulauSebesiPenginapan_8',
            layerName: 'layer_IKLPulauSebesiPenginapan_8',
            pane: 'pane_IKLPulauSebesiPenginapan_8',
            onEachFeature: pop_IKLPulauSebesiPenginapan_8,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.shapeMarker(latlng, style_IKLPulauSebesiPenginapan_8_0(feature));
            },
        });
        bounds_group.addLayer(layer_IKLPulauSebesiPenginapan_8);
        map.addLayer(layer_IKLPulauSebesiPenginapan_8);
        var overlaysTree = [
            {label: '<img src="legend/IKLPulauSebesiPenginapan_8.png" /> IKL Pulau Sebesi — Penginapan', layer: layer_IKLPulauSebesiPenginapan_8},
            {label: '<img src="legend/IKLPulauSebesiJembatan1_7.png" /> IKL Pulau Sebesi— Jembatan1', layer: layer_IKLPulauSebesiJembatan1_7},
            {label: '<img src="legend/IKLPulauSebesiDusun_6.png" /> IKL Pulau Sebesi — Dusun', layer: layer_IKLPulauSebesiDusun_6},
            {label: '<img src="legend/IKLPulauSebesiSungai1_5.png" /> IKL Pulau Sebesi — Sungai1', layer: layer_IKLPulauSebesiSungai1_5},
            {label: '<img src="legend/IKLPulauSebesiJalan1_4.png" /> IKL Pulau Sebesi — Jalan1', layer: layer_IKLPulauSebesiJalan1_4},
            {label: '<img src="legend/IKLPulauSebesiGaris_Kontur1_3.png" /> IKL Pulau Sebesi — Garis_Kontur1', layer: layer_IKLPulauSebesiGaris_Kontur1_3},
            {label: '<img src="legend/IKLPulauSebesiBatas_Area_Unit_2.png" /> IKL Pulau Sebesi — Batas_Area_Unit', layer: layer_IKLPulauSebesiBatas_Area_Unit_2},
            {label: 'IKL Pulau Sebesi-KEPEKAAN<br /><table><tr><td style="text-align: center;"><img src="legend/IKLPulauSebesiKEPEKAAN_1_Sedang0.png" /></td><td>Sedang</td></tr><tr><td style="text-align: center;"><img src="legend/IKLPulauSebesiKEPEKAAN_1_Peka1.png" /></td><td>Peka</td></tr><tr><td style="text-align: center;"><img src="legend/IKLPulauSebesiKEPEKAAN_1_SangatPeka2.png" /></td><td>Sangat Peka</td></tr></table>', layer: layer_IKLPulauSebesiKEPEKAAN_1},
            {label: "OSM Standard", layer: layer_OSMStandard_0},]
        var lay = L.control.layers.tree(null, overlaysTree,{
            //namedToggle: true,
            //selectorBack: false,
            //closedSymbol: '&#8862; &#x1f5c0;',
            //openedSymbol: '&#8863; &#x1f5c1;',
            //collapseAll: 'Collapse all',
            //expandAll: 'Expand all',
            collapsed: true,
        });
        lay.addTo(map);
        setBounds();
        var i = 0;
        layer_IKLPulauSebesiKEPEKAAN_1.eachLayer(function(layer) {
            var context = {
                feature: layer.feature,
                variables: {}
            };
            layer.bindTooltip((layer.feature.properties['Kode_Unit'] !== null?String('<div style="color: #0091ca; font-size: 10pt; font-style: italic; font-family: \'Cambria\', sans-serif;">' + layer.feature.properties['Kode_Unit']) + '</div>':''), {permanent: true, offset: [-0, -16], className: 'css_IKLPulauSebesiKEPEKAAN_1'});
            labels.push(layer);
            totalMarkers += 1;
              layer.added = true;
              addLabel(layer, i);
              i++;
        });
        resetLabels([layer_IKLPulauSebesiKEPEKAAN_1]);
        map.on("zoomend", function(){
            resetLabels([layer_IKLPulauSebesiKEPEKAAN_1]);
        });
        map.on("layeradd", function(){
            resetLabels([layer_IKLPulauSebesiKEPEKAAN_1]);
        });
        map.on("layerremove", function(){
            resetLabels([layer_IKLPulauSebesiKEPEKAAN_1]);
        });
        </script>        
    </body>
</html>
